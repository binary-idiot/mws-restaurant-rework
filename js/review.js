let restaurant,review,worker,id;document.addEventListener("DOMContentLoaded",e=>{SWHelper.registerServiceWorker();const t=Helper.getParameterByName("restaurant");this.id=Helper.getParameterByName("id"),this.worker=new Worker("/js/restaurantWorker.js"),this.worker.onmessage=handleWorkerMessage,getRestaurant(t),this.id&&getReview(this.id),requestAnimationFrame(fillFormTitle)}),handleWorkerMessage=(e=>{const t=e.data,r=t.msgData;switch(t.retrieved){case"restaurant":self.restaurant=r,requestAnimationFrame(fillBreadcrumb),requestAnimationFrame(fillRestaurantName);break;case"review":self.review=r,requestAnimationFrame(fillReviewForm)}}),getRestaurant=((e,t=self.worker)=>{t.postMessage({action:"getRestaurant",id:e})}),getReview=((e,t=self.worker)=>{t.postMessage({action:"getReview",id:e})}),fillRestaurantName=(()=>{document.getElementById("restaurant-name").innerHTML=this.restaurant.name}),fillFormTitle=(()=>{const e=document.getElementById("form-title"),t=this.id?"Update":"Create";e.innerHTML=`${t} review`}),fillReviewForm=(()=>{const e=this.review;document.getElementById("review-name").value=e.name,document.getElementById("review-rating").value=e.rating,document.getElementById("review-comments").value=e.comments}),fillBreadcrumb=(()=>{const e=self.restaurant,t=document.getElementById("breadcrumb"),r=document.createElement("li"),a=document.createElement("a");a.href=Helper.urlForRestaurant(e),a.innerHTML=e.name,r.appendChild(a),t.appendChild(r);const n=document.createElement("li");n.innerHTML="Review",t.appendChild(n)});
//# sourceMappingURL=../maps/review.js.map
