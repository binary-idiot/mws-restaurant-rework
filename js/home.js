let restaurants,neighborhoods,cuisines,worker;document.addEventListener("DOMContentLoaded",e=>{this.worker=new Worker("js/restaurantWorker.js"),this.worker.onmessage=handleWorkerMessage,updateRestaurants(),getNeighborhoodsAndCuisines()}),handleWorkerMessage=(e=>{const t=e.data,n=t.msgData;switch(t.retrieved){case"restaurants":self.restaurants=n,requestAnimationFrame(fillRestaurantsHTML);break;case"neighborhoodsAndCuisines":self.neighborhoods=n.neighborhoods,requestAnimationFrame(fillNeighborhoodHTML),self.cuisines=n.cuisines,requestAnimationFrame(fillCuisineHTML)}}),getRestaurants=((e,t=this.worker)=>{t.postMessage({action:"getRestaurants",filter:e})}),getNeighborhoodsAndCuisines=((e=this.worker)=>{e.postMessage({action:"getNeighborhoodsAndCuisines"})}),updateRestaurants=(()=>{const e=document.getElementById("cuisines-select"),t=document.getElementById("neighborhoods-select"),n=e.selectedIndex,s=t.selectedIndex,r=e[n].value,o=t[s].value;getRestaurants({neighborhood:o,cuisine:r})}),fillNeighborhoodHTML=(()=>{const e=document.getElementById("neighborhoods-select");for(neighborhood of self.neighborhoods){const t=document.createElement("option");t.innerHTML=neighborhood,t.value=neighborhood,e.append(t)}}),fillCuisineHTML=(()=>{const e=document.getElementById("cuisines-select");for(cuisine of self.cuisines){const t=document.createElement("option");t.innerHTML=cuisine,t.value=cuisine,e.append(t)}}),fillRestaurantsHTML=(()=>{const e=document.getElementById("restaurants-list");for(restaurant of(resetRestaurants(e),self.restaurants))e.append(createRestaurantHTML(restaurant))}),resetRestaurants=(e=>{e.innerHTML=""}),createRestaurantHTML=(e=>{const t=document.createElement("li"),n=document.createElement("img"),s=Helper.imageUrlForRestaurant(e);n.className="restaurant-img",n.src=`${s}-small.jpg`,n.srcset=`${s}-small.jpg 300w, ${s}-medium.jpg 600w, ${s}-large.jpg 800w`,n.sizes="(max-width: 424px) 300px, (max-width: 573px) 449px, 300px",n.alt=e.alt,t.append(n);const r=document.createElement("h2");r.innerHTML=e.name,t.append(r);const o=document.createElement("p");o.innerHTML=e.neighborhood,t.append(o);const a=document.createElement("p"),i=e.address.replace(/,/,",<br>");a.innerHTML=i,t.append(a);const d=document.createElement("a");return d.innerHTML="View Details",d.href=Helper.urlForRestaurant(e),d.setAttribute("role","button"),t.append(d),t});
//# sourceMappingURL=../maps/home.js.map
