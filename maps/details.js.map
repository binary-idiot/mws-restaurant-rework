{"version":3,"sources":["details.js"],"names":["restaurant","worker","document","addEventListener","event","this","Worker","onmessage","handleWorkerMessage","getRestaurant","getParameterByName","msg","data","content","msgData","retrieved","console","log","name","url","window","location","href","replace","results","RegExp","exec","error","id","self","postMessage","action"],"mappings":"AAAA,IAAIA,WACHC,OAEAC,SAASC,iBAAiB,mBAAoBC,IAE7CC,KAAKJ,OAAS,IAAIK,OAAO,+BACzBD,KAAKJ,OAAOM,UAAYC,oBACxBC,cAAcC,mBAAmB,SAOnCF,oBAAsBG,CAAAA,IACrB,MAAMC,EAAOD,EAAIC,KACXC,EAAUD,EAAKE,QAErB,OAAOF,EAAKG,WACX,IAAK,aACJC,QAAQC,IAAIJ,MAKfH,mBAAqB,EAACQ,EAAMC,KACrBA,IACHA,EAAMC,OAAOC,SAASC,MACxBJ,EAAOA,EAAKK,QAAQ,UAAW,QAC/B,MACEC,EADY,IAAIC,cAAcP,sBACdQ,KAAKP,GAGrB,OAFGK,GACJR,QAAQW,kBAAkBT,YAClB,OAWXT,cAAgB,EAACmB,EAAI3B,EAAS4B,KAAK5B,UAClCA,EAAO6B,YAAY,CAACC,OAAQ,gBAAiBH,GAAIA","file":"../js/details.js","sourcesContent":["let restaurant,\r\n\tworker;\r\n\r\n\tdocument.addEventListener('DOMContentLoaded', event => {\r\n\t\t// worker to handle all restaurant retrieval\r\n\t\tthis.worker = new Worker('/src/js/restaurantWorker.js');\r\n\t\tthis.worker.onmessage = handleWorkerMessage;\r\n\t\tgetRestaurant(getParameterByName('id'));\r\n\t})\r\n\r\n/**\r\n * Handle messages from worker thread\r\n * @param  {Message} msg Message from worker thread\r\n */\r\nhandleWorkerMessage = msg => {\r\n\tconst data = msg.data;\r\n\tconst content = data.msgData;\r\n\r\n\tswitch(data.retrieved){\r\n\t\tcase 'restaurant':\r\n\t\t\tconsole.log(content);\r\n\t\t\tbreak;\r\n\t}\r\n}\r\n\r\ngetParameterByName = (name, url) => {\r\n  if (!url)\r\n    url = window.location.href;\r\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n  const regex = new RegExp(`[?&]${name}(=([^&#]*)|&|#|$)`),\r\n    results = regex.exec(url);\r\n  if (!results)\r\n  \tconsole.error(`Error no ${name} in url`);\r\n    return null;\r\n  if (!results[2])\r\n    return '';\r\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n}\r\n\r\n/**\r\n * Have the worker retrieve a restaurant\r\n * @param  {RestaurantWorker} worker worker to handle request\r\n * @param  {Int} id     id of restaurant to retrieve\r\n */\r\ngetRestaurant = (id, worker = self.worker) => {\r\n\tworker.postMessage({action: 'getRestaurant', id: id});\r\n}"]}